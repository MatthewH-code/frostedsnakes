<!DOCTYPE HTML>
<!--
	Hielo by TEMPLATED
	templated.co @templatedco
	https://templated.co
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>CRYOSPHERE</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body>

		<!-- Header -->
			<header id="header" class="alt">
				<div class="logo"><a href="index.html">UNEARTHING the CRYOSPHERE <span>by FROSTED SNAKES</span></a></div>
				<a href="#menu">Menu</a>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="quickfacts.html">Quick Facts</a></li>
					<li><a href="effects.html">Cryosphere Location</a></li>
				</ul>
			</nav>


		<!-- One (the header) -->
			<section id="One" class="wrapper style3">
				<div class="inner">
					<div>
						
					</div>
					
					<div>
					</div>
				</div>
			</section>

		<!-- Two -->
			<section id="two" class="wrapper style2">
				<div class="inner">
					<div class="box row ">
						<div class="content 6u">
							<header class="align-center">
								<p> See the ice become the ice</p>
								<h2>Cryosphere Locator</h2>
							</header>
							<form action="#" id="form">
								<input type="submit" value="Submit">
							</form>
							
					</div>
					<div id="map" class="content 6u">
						<!--this is the map thing-->
						<script>
							document.getElementById("form").addEventListener("submit", findNearestGlaciers);
							
							var map = L.map('map');
							L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
									attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
								}).addTo(map);
		
							
							//var geojsonLayer = new L.GeoJSON.AJAX("./assets/data/glims_points.json");       
							//geojsonLayer.addTo(map);
							 $.getJSON("/assets/data/glims_points.json",function(data){
							// add GeoJSON layer to the map once the file is loaded
							L.geoJson(data).addTo(map);
							});
														
							function getLocation() {
								if (navigator.geolocation) {
									navigator.geolocation.getCurrentPosition(showPosition);
								} else {
								}
							}
							
							function showPosition(position){
								if(position == null){
									var lat = 0;
									var lon = 0;
								} else {
									var lat = position.coords.latitude;
									var lon = position.coords.longitude;
								}
								map.setView([lat, lon], 13);

								L.marker([lat ,lon]).addTo(map)
									.bindPopup('This is your current location.')
								.openPopup();
							}
							getLocation();
							
							function findNearestGlaciers() {
								//import glaciers data set here
								//glacier coordinates named glat and glon 
								
								//find nearest in loop
								Math.sqrt((Math.pow((glat-lat), 2) + Math.pow((glon-lon), 2)));
							}
							
							/*
								ONCE COMPLETE WITH GLACIERS ADD THESE MAP OVERLAYS
									*SNOW IN US
									*HAIL IN US
									*PERMAFROST
									*TEMPERATURE
									*SEA ICE
							*/
						</script> 
					</div>
				</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="#" class="icon fab fa-github"><span class="label">GitHub</span></a></li>
					</ul>
				</div>
				<div class="copyright">
				Unearthing the Cryosphere<br>
				Frosted Snakes - Brittney Bush, Matthew Hall, Kate Philips, Carolyn Savas, & Jordan Simpson<br>
					&copy; Untitled. All rights reserved.
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
